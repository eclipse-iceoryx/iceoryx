<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="525px" preserveAspectRatio="none" style="width:748px;height:525px;background:#EEEBDC;" version="1.1" viewBox="0 0 748 525" width="748px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vj4n721o8uqw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="610" x="69" y="28.708">Alternative B: Event-based notification between RouDi and User App</text><rect fill="#FFFFFF" filter="url(#f1vj4n721o8uqw)" height="164.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="55" y="265.0469"/><rect fill="#FFFFFF" filter="url(#f1vj4n721o8uqw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="402" y="106.3828"/><rect fill="#FFFFFF" filter="url(#f1vj4n721o8uqw)" height="287.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="402" y="169.6484"/><rect fill="#EEEBDC" filter="url(#f1vj4n721o8uqw)" height="203.7969" style="stroke:#000000;stroke-width:2.0;" width="460" x="10" y="218.7813"/><rect fill="#EEEBDC" filter="url(#f1vj4n721o8uqw)" height="88.3984" style="stroke:#000000;stroke-width:2.0;" width="440" x="20" y="327.1797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="75.25" y2="481.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="407" x2="407" y1="75.25" y2="481.7109"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="555.5" x2="555.5" y1="75.25" y2="481.7109"/><rect fill="#FEFECE" filter="url(#f1vj4n721o8uqw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="56" x="30" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="37" y="59.9482">RouDi</text><rect fill="#FEFECE" filter="url(#f1vj4n721o8uqw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="56" x="30" y="480.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="37" y="500.7061">RouDi</text><rect fill="#FEFECE" filter="url(#f1vj4n721o8uqw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="82" x="364" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="371" y="59.9482">UserAppA</text><rect fill="#FEFECE" filter="url(#f1vj4n721o8uqw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="82" x="364" y="480.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="371" y="500.7061">UserAppA</text><rect fill="#FEFECE" filter="url(#f1vj4n721o8uqw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="512.5" y="39.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="519.5" y="59.9482">UserAppB</text><rect fill="#FEFECE" filter="url(#f1vj4n721o8uqw)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="512.5" y="480.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="519.5" y="500.7061">UserAppB</text><rect fill="#FFFFFF" filter="url(#f1vj4n721o8uqw)" height="164.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="55" y="265.0469"/><rect fill="#FFFFFF" filter="url(#f1vj4n721o8uqw)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="402" y="106.3828"/><rect fill="#FFFFFF" filter="url(#f1vj4n721o8uqw)" height="287.0625" style="stroke:#A80036;stroke-width:1.0;" width="10" x="402" y="169.6484"/><polygon fill="#A80036" points="71,102.3828,61,106.3828,71,110.3828,67,106.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="401" y1="106.3828" y2="106.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="77" y="101.3169">getMiddlewareInterface() / CREATE_INTERFACE</text><polygon fill="#A80036" points="395,131.5156,405,135.5156,395,139.5156,399,135.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60" x2="401" y1="135.5156" y2="135.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="67" y="130.4497">CREATE_INTERFACE_ACK</text><polygon fill="#A80036" points="390,165.6484,400,169.6484,390,173.6484,394,169.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="60" x2="396" y1="169.6484" y2="169.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="67" y="164.5825">handleInterfaces() sends complete service registry</text><path d="M417,148.5156 L417,173.5156 L739,173.5156 L739,158.5156 L729,148.5156 L417,148.5156 " fill="#FBFB77" filter="url(#f1vj4n721o8uqw)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M729,148.5156 L729,158.5156 L739,158.5156 L729,148.5156 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="423" y="165.5825">Only react on CaproMessageSubType::SERVICE</text><polygon fill="#A80036" points="71,199.7813,61,203.7813,71,207.7813,67,203.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="555" y1="203.7813" y2="203.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="77" y="198.7153">offer()</text><path d="M10,218.7813 L87,218.7813 L87,225.7813 L77,235.7813 L10,235.7813 L10,218.7813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="203.7969" style="stroke:#000000;stroke-width:2.0;" width="460" x="10" y="218.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="25" y="231.8481">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="102" y="230.9917">[every 100ms]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="60" x2="107" y1="252.0469" y2="252.0469"/><line style="stroke:#A80036;stroke-width:1.0;" x1="107" x2="107" y1="252.0469" y2="265.0469"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66" x2="107" y1="265.0469" y2="265.0469"/><polygon fill="#A80036" points="76,261.0469,66,265.0469,76,269.0469,72,265.0469" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="72" y="246.981">doDiscovery()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="107" y1="299.1797" y2="299.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="107" x2="107" y1="299.1797" y2="312.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66" x2="107" y1="312.1797" y2="312.1797"/><polygon fill="#A80036" points="76,308.1797,66,312.1797,76,316.1797,72,312.1797" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="72" y="294.1138">doDiscoveryForPublisherPorts()</text><path d="M20,327.1797 L84,327.1797 L84,334.1797 L74,344.1797 L20,344.1797 L20,327.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="88.3984" style="stroke:#000000;stroke-width:2.0;" width="440" x="20" y="327.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="340.2466">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="164" x="99" y="339.3901">[CaproMessage received]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="107" y1="365.4453" y2="365.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="107" x2="107" y1="365.4453" y2="378.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="66" x2="107" y1="378.4453" y2="378.4453"/><polygon fill="#A80036" points="76,374.4453,66,378.4453,76,382.4453,72,378.4453" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="72" y="360.3794">sendToAllMatchingInterfaces()</text><polygon fill="#A80036" points="390,403.5781,400,407.5781,390,411.5781,394,407.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="65" x2="396" y1="407.5781" y2="407.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="72" y="402.5122">dispatchCaProMessage()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="412" x2="454" y1="455.7109" y2="455.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="454" x2="454" y1="455.7109" y2="468.7109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="407" x2="454" y1="468.7109" y2="468.7109"/><polygon fill="#A80036" points="417,464.7109,407,468.7109,417,472.7109,413,468.7109" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="419" y="450.645">wake up from wait()</text></g></svg>